<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Statystyki Społeczne</title>
    <link rel="stylesheet" href="../static/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../static/js/app.js"></script>
</head>
<body>
    <h1>Statystyki Bezrobocia i Zgonów</h1>

    <!-- Sekcja logowania -->
    <div class="section">
        <h2>Logowanie</h2>
        <form id="loginForm">
            <label for="username">Nazwa użytkownika:</label>
            <input type="text" id="username" required>
            <label for="password">Hasło:</label>
            <input type="password" id="password" required>
            <button type="submit">Zaloguj</button>
        </form>
        <div id="loginResult"></div>
    </div>

    <!-- Sekcja eksportu danych -->
    <div class="section">
        <h2>Eksport danych</h2>
        <form id="exportForm">
            <label for="type">Typ danych:</label>
            <select id="type" name="type">
                <option value="unemployment">Bezrobocie</option>
                <option value="deaths">Zgony</option>
            </select>
            <label for="from">Od (YYYY-MM):</label>
            <input type="text" id="from" name="from" placeholder="YYYY-MM" required>
            <label for="to">Do (YYYY-MM):</label>
            <input type="text" id="to" name="to" placeholder="YYYY-MM" required>
            <label for="format">Format:</label>
            <select id="format" name="format">
                <option value="application/json">JSON</option>
                <option value="application/x-yaml">YAML</option>
                <option value="application/xml">XML</option>
            </select>
            <button type="submit">Eksportuj</button>
        </form>
        <div id="exportResult"></div>
    </div>

   <div class="section">
    <h2>SOAP: stopa bezrobocia</h2>
    <div style="display:flex; gap:1rem; flex-wrap:wrap; align-items:flex-end;">
      <div>
        <label for="soapYear">Rok:</label>
        <select id="soapYear">
          <option>2018</option><option>2019</option><option>2020</option>
          <option>2021</option><option>2022</option>
        </select>
      </div>
      <div>
        <label for="soapMonth">Miesiąc:</label>
        <select id="soapMonth">
          <option value="1">Styczeń</option><option value="2">Luty</option>
          <option value="3">Marzec</option><option value="4">Kwiecień</option>
          <option value="5">Maj</option><option value="6">Czerwiec</option>
          <option value="7">Lipiec</option><option value="8">Sierpień</option>
          <option value="9">Wrzesień</option><option value="10">Październik</option>
          <option value="11">Listopad</option><option value="12">Grudzień</option>
        </select>
      </div>
      <div><button id="soapFetchBtn">Pojedyncza wartość</button></div>
      <div><button id="soapFetchAllBtn">Cała seria (2018–2022)</button></div>
    </div>
    <div id="soapResultSingle" style="margin-top:1rem;"></div>
    <div id="soapResultAll" style="margin-top:1rem;"></div>
    <canvas id="soapChart" width="600" height="300" style="max-width:100%;"></canvas>
  </div>

    <!-- Sekcja importu zgonów z Eurostatu -->
    <div class="section">
        <h2>Import zgonów z Eurostatu</h2>
        <button id="importDeathsBtn">Importuj z Eurostatu</button>
        <div id="importDeathsResult"></div>
    </div>

    <div class="section">
      <h2>Import danych bezrobocia</h2>
      <form id="importFileForm" enctype="multipart/form-data">
        <label for="importFormat">Format pliku:</label>
        <select id="importFormat" name="format" required>
          <option value="">— wybierz —</option>
          <option value="xml">XML</option>
          <option value="json">JSON</option>
          <option value="yaml">YAML</option>
        </select>
        <label for="importFile">Wybierz plik:</label>
        <input type="file" id="importFile" name="file" accept=".xml,.json,.yaml,.yml" required>
        <button type="submit">Importuj</button>
      </form>
      <div id="importFileResult"></div>
    </div>
</body>
</html>